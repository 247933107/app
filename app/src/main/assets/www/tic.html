<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
		<script src="js/jquery-1.12.3.min.js"></script>
		<script src="js/jquery.mobile-1.4.5.min.js"></script>
	</head>

	<body onload="MyRefresh()">
		<div data-role="page" id="pageone">
			<div data-role="main" class="ui-content" data-theme="a">
				<input placeholder="起始" id="station_start"/>
				<input placeholder="终到" id="station_end" />
				<input type="button" value="搜索" id="search" />
				<ul data-role="listview" id="list" data-inset="true">
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			$(function() {
				var start_station;
				var end_station;
				$('#search').click(function() {
					start_station = $('#station_start').val();
					end_station = $('#station_end').val();
					if (start_station.length == 0) {
						return;
					}
					if (end_station.length == 0) {
						return;
					}
					window.Android.searchTic(start_station, end_station);
				});
			});

			function MyRefresh(result) {
//				$.getJSON('../json/tic.json', function(result) {
					result.result.list.map(function(data) {
//						alert(JSON.stringify(data));
						var item;
						item = "<li id='item-id'><a><span class='content'>" + "" + JSON.stringify(data) + "</span></a></li>";
						$("#list").append(item);
					});
//				});
				//				$.getJSON('../json/tic.json', function(date) {
				//						result.list.map(function(date) {
				//							alert("ddddddd");
				//							//						$(this).parent.innerHTML(JSON.stringify(content));
				//							var item;
				//							item = "<li id='item-id' onclick=\"onClic('" +
				//								content.url + "'  );\"><a><img id='img' src='" + content.firstImg + "'/><h6 class='content'>" + "" + content.title + "</h6><p id='time'>" +
				//								content.source + "</p></a></li>";
				//							$("#list").append(item);
				//						});
				//				}
			};
		</script>
	</body>

</html>